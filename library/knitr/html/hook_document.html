<!DOCTYPE html><html><head><title>R: Some potentially useful document hooks</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table style="width: 100%;"><tr><td>hook_movecode {knitr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='hook_movecode'>Some potentially useful document hooks</h2>

<h3>Description</h3>

<p>A document hook is a function to post-process the output document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hook_movecode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hook_movecode_:_x">x</code></td>
<td>
<p>A character string (the whole output document).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hook_movecode()</code> is a document hook to move code chunks out of LaTeX
floating environments like &lsquo;<span class="samp">&#8288;figure&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;table&#8288;</span>&rsquo; when the chunks
were actually written inside the floats. This function is primarily designed
for LyX: we often insert code chunks into floats to generate figures or
tables, but in the final output we do not want the code to float with the
environments, so we use regular expressions to find out the floating
environments, extract the code chunks and move them out. To disable this
behavior, use a comment <code>% knitr_do_not_move</code> in the floating
environment.
</p>


<h3>Value</h3>

<p>The post-processed document as a character string.
</p>


<h3>Note</h3>

<p>These functions are hackish. Also note <code>hook_movecode()</code> assumes
you to use the default output hooks for LaTeX (not Sweave or listings), and
every figure/table environment must have a label.
</p>


<h3>References</h3>

<p><a href="https://yihui.org/knitr/hooks/">https://yihui.org/knitr/hooks/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
knit_hooks$set(document = hook_movecode)

## End(Not run)
# see example 103 at https://github.com/yihui/knitr-examples
</code></pre>

<hr /><div style="text-align: center;">[Package <em>knitr</em> version 1.44 <a href="00Index.html">Index</a>]</div>
</div>
</body></html>
