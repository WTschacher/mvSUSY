<!DOCTYPE html><html><head><title>R: Progress bar variables</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table style="width: 100%;"><tr><td>progress-variables {cli}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='progress-variables'>Progress bar variables</h2>

<h3>Description</h3>

<p>Progress bar variables
</p>


<h3>Details</h3>

<p>These variables can be used in cli progress bar format
strings. They are calculated on demand. To use a variable, e.g. <code>pb_bar</code>
in a package, you either need to to import <code>pb_bar</code> from cli, or use
the qualified form in the format string: <code>cli::pb_bar</code>.
</p>
<p>Similarly, in R scripts, you can use <code>pb_bar</code> after <code>library(cli)</code>,
or <code>cli::pb_bar</code> if you do not attach the cli package.
</p>


<h4><code>pb_bar</code></h4>

<p>Creates a visual progress bar. If the number of total units
is unknown, then it will return an empty string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "Fitting model {cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Fitting model <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                             
</pre></div>




<h4><code>pb_current</code></h4>

<p>The number of current progress units.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_current_bytes</code></h4>

<p>The number of current progress units formatted as bytes.
The output has a constant width of six characters.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  format = "Got {cli::pb_current_bytes} in {cli::pb_elapsed}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Got 524 kB in 5s                                                                
</pre></div>




<h4><code>pb_elapsed</code></h4>

<p>The elapsed time since the start of the progress bar. The time is
measured since the progress bar was created with <code><a href="../../cli/help/cli_progress_bar.html">cli_progress_bar()</a></code>
or similar.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{cli::pb_elapsed}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [5s]                                      
</pre></div>




<h4><code>pb_elapsed_clock</code></h4>

<p>The elapsed time, in <code style="white-space: pre;">&#8288;hh::mm::ss&#8288;</code> format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{cli::pb_elapsed_clock}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [00:00:05]                                
</pre></div>




<h4><code>pb_elapsed_raw</code></h4>

<p>The number of seconds since the start of the progress bar.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} [{round(cli::pb_elapsed_raw)}s]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; [5s]                                      
</pre></div>




<h4><code>pb_eta</code></h4>

<p>The estimated time until the end of the progress bar,
in human readable form.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | ETA: {cli::pb_eta}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s                                
</pre></div>




<h4><code>pb_eta_raw</code></h4>

<p>The estimated time until the end of the progress
bar, in seconds. This is useful if you want to adjust the default
<code>pb_eta</code> display.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | ETA: {round(cli::pb_eta_raw)}s"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA: 3s                                 
</pre></div>




<h4><code>pb_eta_str</code></h4>

<p>The estimated time until the end of the progress bar.
It includes the <code>"ETA:"</code> prefix. It is only shown if the time can be
estimated, otherwise it is the empty string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent} | {cli::pb_eta_str}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37; | ETA:  3s                                
</pre></div>




<h4><code>pb_extra</code></h4>

<p><code>pb_extra</code> can be used to access extra data, see the <code>extra</code> argument
of <code>cli_progress_bar()</code> and <code>cli_progress_update()</code>.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  extra = list(user = whoami::username()),
  format = "Cleaning cache for user '{cli::pb_extra$user}': {cli::pb_current_bytes}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Cleaning cache for user 'gaborcsardi': 161 MB                                   
</pre></div>




<h4><code>pb_id</code></h4>

<p>The id of the progress bar. The id has the format
<code style="white-space: pre;">&#8288;cli-&lt;pid&gt;-&lt;counter&gt;&#8288;</code> where <code style="white-space: pre;">&#8288;&lt;pid&gt;&#8288;</code> is the process id, and
<code style="white-space: pre;">&#8288;&lt;counter&gt;&#8288;</code> is an integer counter that is incremented every time
cli needs a new unique id.
</p>
<p>This is useful for debugging progress bars.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  format = "Progress bar '{cli::pb_id}' is at {cli::pb_current}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Progress bar 'cli-82040-1814' is at 64                                          
</pre></div>




<h4><code>pb_name</code></h4>

<p>The name of the progress bar. This is supplied by the
developer, and it is by default the empty string. A space character
is added to non-empty names.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  name = "Loading training data",
  total = 100,
  format = "{cli::pb_name} {cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Loading training data  <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                    
</pre></div>




<h4><code>pb_percent</code></h4>

<p>The percentage of the progress bar, always formatted
in three characters plus the percentage sign. If the total number of
units is unknown, then it is <code>" NA%"</code>.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_bar} {cli::pb_percent}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> <span style="color: #859900;">█████████████████████</span><span style="color: #002B36;">██████████</span><span style="color: #859900;"> </span>  66&#37;                                           
</pre></div>




<h4><code>pb_pid</code></h4>

<p>The integer process id of the progress bar. This is useful if you are
aggregating logging output or progress results from multiple processes.
</p>



<h4><code>pb_rate</code></h4>

<p>The progress rate, in number of units per second, formatted in a string.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 156,
  format = "Reading input files {pb_current}/{pb_total} [{pb_rate}]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading input files 68/156 [14/s]                                               
</pre></div>




<h4><code>pb_rate_raw</code></h4>

<p>The raw progress rate, in number of units per second.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 156,
  format = "Reading input files {pb_current}/{pb_total} [{round(pb_rate_raw)}/s]"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading input files 68/156 [14/s]                                               
</pre></div>




<h4><code>pb_rate_bytes</code></h4>

<p>The progress rate, formatted as bytes per second, in human readable form.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 256 * 1024 * 1014,
  format = paste0(
    "Reading data {pb_current_bytes}/{pb_total_bytes} ",
    "[{ansi_trimws(pb_rate_bytes)}]"
  )
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading data  70 MB/266 MB [14 MB/s]                                            
</pre></div>




<h4><code>pb_spin</code></h4>

<p>A spinner. The default spinner is selected via a <code><a href="../../cli/help/get_spinner.html">get_spinner()</a></code> call.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_status</code></h4>

<p>The status string of the progress bar. By default this is an empty
string, but it is possible to set it in <code><a href="../../cli/help/cli_progress_bar.html">cli_progress_bar()</a></code>
and 'cli_progress_update()].
</p>
<div class="sourceCode r"><pre>cli_progress_bar(status = "Connecting...")
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Connecting... 0 done (0/s) | 1s                                               
</pre></div>




<h4><code>pb_timestamp</code></h4>

<p>A time stamp for the current time in ISO 8601 format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  "Loading training data files",
  format = "{pb_timestamp} {pb_current} ({pb_rate})"
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> 2022-09-07T11:27:50+00:00 125 (25/s)                                            
</pre></div>




<h4><code>pb_total</code></h4>

<p>The total number of progress units, or <code>NA</code> if the number of units is
unknown.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 100,
  format = "{cli::pb_spin} Reading file {cli::pb_current}/{cli::pb_total}"
)
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> ⠙ Reading file 66/100                                                           
</pre></div>




<h4><code>pb_total_bytes</code></h4>

<p>The total number of progress units, formatted as
bytes, in a human readable format.
</p>
<div class="sourceCode r"><pre>cli_progress_bar(
  total = 256 * 1024 * 1014,
  format = paste0(
    "Reading data {pb_current_bytes}/{pb_total_bytes} ",
    "[{ansi_trimws(pb_rate_bytes)}]"
  )
</pre></div>
<div class="asciicast" style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#> Reading data  70 MB/266 MB [14 MB/s]                                            
</pre></div>




<h3>See Also</h3>

<p>Other progress bar functions: 
<code><a href="../../cli/help/cli_progress_along.html">cli_progress_along</a>()</code>,
<code><a href="../../cli/help/cli_progress_bar.html">cli_progress_bar</a>()</code>,
<code><a href="../../cli/help/cli_progress_builtin_handlers.html">cli_progress_builtin_handlers</a>()</code>,
<code><a href="../../cli/help/cli_progress_message.html">cli_progress_message</a>()</code>,
<code><a href="../../cli/help/cli_progress_num.html">cli_progress_num</a>()</code>,
<code><a href="../../cli/help/cli_progress_output.html">cli_progress_output</a>()</code>,
<code><a href="../../cli/help/cli_progress_step.html">cli_progress_step</a>()</code>,
<code><a href="../../cli/help/cli_progress_styles.html">cli_progress_styles</a>()</code>
</p>

<hr /><div style="text-align: center;">[Package <em>cli</em> version 3.6.1 <a href="00Index.html">Index</a>]</div>
</div>
</body></html>
